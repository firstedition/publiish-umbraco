<div ng-controller="CreatePublicationController as vm" class="umb-dashboard__content">

    <div ng-if="vm.editMode == 'create'">

        <h3>Create Publication</h3>

        <form ng-submit="vm.submitForm()" enctype="multipart/form-data">

            <div style="padding-bottom: 25px;">
                <label>Select file:</label>
                <input type="file" id="fileInput" style="display: none" onchange="handleFileChange(event);" />
                <button type="button" ng-click="vm.triggerFileInput()">Choose File</button>
                <input type="hidden" ng-model="vm.formData.selectedFileName" name="selectedFileName" />
                <span ng-bind="vm.formData.selectedFileName"></span>
            </div>

            <div style="padding-bottom: 25px;">
                Name:<br/>
                <input type="text"
                       placeholder="Name"
                       ng-model="vm.formData.name"
                       required /><br/>
                <span style="font-size: 12px; color: darkgrey">By selecting a file, the name will be filled out. You can manually change this if you wish.</span>
            </div>

            <div style="padding-bottom: 25px;">
                Url Segment:<br/>
                <input type="text"
                       placeholder="Url Segment"
                       ng-model="vm.formData.urlSegment"
                       ng-blur="vm.urlSegmentLostFocus()"
                       required /><br/>
                <span style="font-size: 12px; color: darkgrey">By selecting a file, the url segment will be filled out. You can manually change this if you wish.</span>
            </div>

            <div style="padding-bottom: 25px;">
                Description:<br/>
                <textarea ng-model="vm.formData.description">
                </textarea><br/>
                <span style="font-size: 12px; color: darkgrey">This field serves no other purpose than to help you add some notes to the entry.</span>
            </div>

            <umb-button
                    action="vm.clickButton()"
                    type="button"
                    button-style="action"
                    state="vm.buttonState"
                    shortcut="ctrl+s"
                    label="Upload"
                    disabled="vm.buttonState === 'busy'">
            </umb-button>

        </form>

    </div>

    <div ng-if="vm.editMode == 'edit'">

        <h3>Edit Publication</h3>

        <div style="padding-bottom: 25px;">
            Name:<br/>
            <input type="text"
                   placeholder="Name"
                   ng-model="vm.editData.name"
                   required /><br/>
            <span style="font-size: 12px; color: darkgrey">Initially generated by uploaded file. You can manually change this if you wish.</span>
        </div>

        <div style="padding-bottom: 25px;">
            Url Segment:<br/>
            <input type="text"
                   placeholder="Url Segment"
                   ng-model="vm.editData.urlSegment"
                   ng-blur="vm.urlSegmentLostFocus()"
                   required /><br/>
            <span style="font-size: 12px; color: darkgrey">By selecting a file, the url segment will be filled out. You can manually change this if you wish.</span>
        </div>

        <div style="padding-bottom: 25px;">
            Description:<br/>
            <textarea ng-model="vm.editData.description">
                </textarea><br/>
            <span style="font-size: 12px; color: darkgrey">This field serves no other purpose than to help you add some notes to the entry.</span>
        </div>

        <umb-button
                action="vm.clickButton()"
                type="button"
                button-style="action"
                state="vm.buttonState"
                shortcut="ctrl+s"
                label="Update"
                disabled="vm.buttonState === 'busy'">
        </umb-button>

    </div>

</div>